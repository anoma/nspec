INHERIT: mkdocs.yml
site_name: Guidelines for writing Anoma specifications
site_author: Anoma Foundation
site_description: |
  This is compendium of instructions to write Anoma specifications.
use_directory_urls: false
site_url: !ENV [SITE_URL, https://anoma.github.io/nspec/]
site_dir: !ENV [SITE_DIR, site]

nav:
  - Guide home: ./tutorial/index.md
  - Install: ./tutorial/install.md
  - Basics:
    - ./tutorial/basics.md
    - Including diffs:
      - ./tutorial/differ.md
      - Example of diff rendering: ./tutorial/file-v1.md
    - Using Juvix code: ./tutorial/juvix.md
    # - Using templates: ./tutorial/templates.md
    # - Using glossary: ./tutorial/glossary.md

theme:
  logo: assets/logo.svg
  favicon: assets/logo.svg
  custom_dir: overrides
  language: en
  name: material
  google_analytics: G-WJWZWB2TW5
  palette:
    scheme: custom
    primary: custom
    accent: custom
  font:
    text: Roboto
    code: Roboto Mono
  features:
    - announce.dismiss
    - content.code.annotate
    - content.code.copy
    - content.tooltips
    - navigation.tracking
    - navigation.footer
    - navigation.path
    - navigation.sections
    # - navigation.indexes
    # - navigation.instant # for offline use
    - search.highlight
    - search.suggest
    - search.sharing
    - toc.follow
    # - header.autohide

plugins:
  - search
  - ezglossary
  - section-index
  - glightbox
  - bibtex:
      bib_file: "art.bib"
  - macros:
      verbose: false
      module_name: macros
      j2_block_start_string: "{@@"
      j2_block_end_string: "@@}"
      j2_variable_start_string: "{@"
      j2_variable_end_string: "@}"

hooks:
- hooks/links.py
- hooks/images.py
- hooks/differ.py

exclude_docs: |
  requirements.txt
  **/art-template/**/*.md
  */**/.juvix-build/

extra_css:
  - assets/css/extra.css
  - assets/css/juvix-highlighting.css

extra_javascript:
  - assets/js/extra.js
  - assets/js/highlight.js
  - assets/js/mathjax.js
  - https://polyfill.io/v3/polyfill.min.js?features=es6
  - https://cdn.jsdelivr.net/npm/mathjax@3.0.0/es5/tex-svg.js

markdown_extensions:
  - pymdownx.snippets:
      check_paths: true
      url_download: true
      auto_append:
        - docs/abbreviations.md
  - pymdownx.superfences:
      custom_fences:
        - name: mermaid
          class: mermaid
          format: !!python/name:pymdownx.superfences.fence_code_format
  - abbr
  - admonition
  - attr_list
  - def_list
  - footnotes
  - md_in_html
  - toc:
      permalink: true
  - pymdownx.details
  - pymdownx.magiclink
  - pymdownx.emoji:
      emoji_index: !!python/name:material.extensions.emoji.twemoji
      emoji_generator: !!python/name:material.extensions.emoji.to_svg
  - pymdownx.arithmatex:
      generic: true
  - pymdownx.highlight:
      use_pygments: true
      pygments_lang_class: true
      line_spans: __ispan
  - pymdownx.tabbed:
      slugify: !!python/object/apply:pymdownx.slugs.slugify
        kwds:
          case: lower
      alternate_style: true
  - pymdownx.tasklist:
      custom_checkbox: true
      clickable_checkbox: true

watch:
  - overrides

validation:
  nav:
    omitted_files: ignore
    not_found: warn
    absolute_links: ignore
  links:
    not_found: warn
    absolute_links: ignore
    unrecognized_links: warn