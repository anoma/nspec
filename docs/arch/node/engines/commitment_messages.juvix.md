---
icon: octicons/gear-16
search:
  exclude: false
categories:
- engine-behaviour
tags:
- commitment
- engine-messages
---

??? quote "Juvix imports"

    ```juvix
    module arch.node.engines.commitment_messages;
    import prelude open;
    import arch.node.types.identities open;
    ```

# Commitment Messages

## Message interface

### `MsgCommitmentRequest mkCommitmentRequest`

```juvix
type CommitmentRequest := mkCommitmentRequest {
  data : Signable
};
```

A `CommitRequest` instructs a commitment engine instance to produce a commitment
(signature) over the provided data.

???+ quote "Arguments"
    `data`:
    : The data to sign.

### `MsgCommitmentResponse mkCommitmentResponse`

```juvix
type CommitmentResponse := mkCommitmentResponse {
  commitment : Commitment;
  err : Option String;
};
```

A `CommitResponse` contains the commitment (signature) generated by the
commitment engine instance in response to a `CommitRequest`.

???+ quote "Arguments"

    `commitment`:
    : The generated commitment (signature).

    `err`:
    : An error message if commitment generation failed.

### `CommitmentMsg`

<!-- --8<-- [start:CommitmentMsg] -->
```juvix
type CommitmentMsg :=
  | MsgCommitmentRequest CommitmentRequest
  | MsgCommitmentResponse CommitmentResponse
  ;
```
<!-- --8<-- [end:CommitmentMsg] -->

## Message sequence diagrams

### Commitment Generation Sequence

<!-- --8<-- [start:message-sequence-diagram] -->
<figure markdown="span">

```mermaid
sequenceDiagram
    participant C as Client
    participant CE as Commitment Engine

    C->>CE: CommitRequest(data)
    Note over CE: Generate commitment using internal signer
    CE-->>C: CommitResponse(commitment)
```

<figcaption markdown="span">
Sequence diagram for commitment generation.
</figcaption>
</figure>
<!-- --8<-- [end:message-sequence-diagram] -->

## Engine Components

- [[Commitment Environment|`Commitment` Engine Environment]]
- [[Commitment Dynamics|`Commitment` Engine Dynamics]]

## Useful links
