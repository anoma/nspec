site_name: Anoma Specification
site_author: Anoma Foundation
site_description: |
  The Anoma Specification is a collection of documents that describe the
  architecture, design, and implementation of the Anoma Network.
site_url: !ENV [SITE_URL, https://anoma.github.io/nspec/latest/]
site_dir: !ENV [SITE_DIR, site]
use_directory_urls: false


nav:
  - index.md
  - Scope:
    - ./scope/index.md
    - World model: ./scope/world-model.md
    - Protocol desiderata: ./scope/protocol-desiderata.md

  - Basic Types:
    - ./basic-types/index.md
    - Identity: ./basic-types/identity.md
    - Resource: ./basic-types/resource.md
    - Resource Machine: ./basic-types/resource-machine.md

  - Protocol Architecture:
    - ./architecture/index.md
    - System Architecture:
      - ./architecture-1/index.md
    - Node Architecture:
      - ./architecture-2/index.md
      - Modules:
        - ./architecture-2/modules/index.md
      - Juvix Prelude: ./architecture-2/Prelude.juvix.md
      - Engine Families: 
        - ./architecture-2/engines/index.juvix.md
        - Types: ./architecture-2/types/EngineFamily.juvix.md
      - Hardware Abstraction Machine:
        - ./architecture-2/hardware-abstraction/index.md
        - Local Storage Engines:
          - ./architecture-2/hardware-abstraction/local-storage-engines/index.md
          - Local Key Value Storage Engine:
            - ./architecture-2/hardware-abstraction/local-storage-engines/local-key-value-storage-engine/index.md
            - Messages:
              - GetValueKVStoreRequest: ./architecture-2/hardware-abstraction/local-storage-engines/local-kv-storage-engine/messages/get-value-KVStore-request.md
              - GetValueKVStoreResponse: ./architecture-2/hardware-abstraction/local-storage-engines/local-kv-storage-engine/messages/get-value-KVStore-response.md
              - SetValueKVStoreRequest: ./architecture-2/hardware-abstraction/local-storage-engines/local-kv-storage-engine/messages/set-value-KVStore-request.md
              - SetValueKVStoreResponse: ./architecture-2/hardware-abstraction/local-storage-engines/local-kv-storage-engine/messages/set-value-KVStore-response.md
              - DeleteValueKVStoreRequest: ./architecture-2/hardware-abstraction/local-storage-engines/local-kv-storage-engine/messages/delete-value-KVStore-request.md
              - DeleteValueKVStoreResponse: ./architecture-2/hardware-abstraction/local-storage-engines/local-kv-storage-engine/messages/delete-value-KVStore-response.md
              - ValueChangedKVStore: ./architecture-2/hardware-abstraction/local-storage-engines/local-kv-storage-engine/notifications/value-changed-KVStore.md
            - Types:
              - GetValueKVStoreRequestV1: ./architecture-2/hardware-abstraction/local-storage-engines/local-kv-storage-engine/types/get-value-KVStore-request-v1.md
              - GetValueKVStoreResponseV1: ./architecture-2/hardware-abstraction/local-storage-engines/local-kv-storage-engine/types/get-value-KVStore-response-v1.md
              - SetValueKVStoreRequestV1: ./architecture-2/hardware-abstraction/local-storage-engines/local-kv-storage-engine/types/set-value-KVStore-request-v1.md
              - SetValueKVStoreResponseV1: ./architecture-2/hardware-abstraction/local-storage-engines/local-kv-storage-engine/types/set-value-KVStore-response-v1.md
              - DeleteValueKVStoreRequestV1: ./architecture-2/hardware-abstraction/local-storage-engines/local-kv-storage-engine/types/delete-value-KVStore-request-v1.md
              - DeleteValueKVStoreResponseV1: ./architecture-2/hardware-abstraction/local-storage-engines/local-kv-storage-engine/types/delete-value-KVStore-response-v1.md
              - StorageKeyV1: ./architecture-2/hardware-abstraction/local-storage-engines/local-kv-storage-engine/types/StorageKey-v1.md
              - StorageValueV1: ./architecture-2/hardware-abstraction/local-storage-engines/local-kv-storage-engine/types/StorageValue-v1.md
              - SuccessOperationV1: ./architecture-2/hardware-abstraction/local-storage-engines/local-kv-storage-engine/types/SuccessOperationKVStore-v1.md
          - Local Time Series Storage Engine:
            - ./architecture-2/hardware-abstraction/local-storage-engines/local-timeseries-storage-engine/index.md
            - Messages:
              - GetDataTimeSeriesDBRequest: ./architecture-2/hardware-abstraction/local-storage-engines/local-timeseries-storage-engine/messages/get-data-time-series-DB-request.md
              - GetDataTimeSeriesDBResponse: ./architecture-2/hardware-abstraction/local-storage-engines/local-timeseries-storage-engine/messages/get-data-time-series-DB-response.md
              - RecordDataTimeSeriesDBRequest: ./architecture-2/hardware-abstraction/local-storage-engines/local-timeseries-storage-engine/messages/record-data-time-series-DB-request.md
              - RecordDataTimeSeriesDBResponse: ./architecture-2/hardware-abstraction/local-storage-engines/local-timeseries-storage-engine/messages/record-data-time-series-DB-response.md
              - DeleteDataTimeSeriesDBRequest: ./architecture-2/hardware-abstraction/local-storage-engines/local-timeseries-storage-engine/messages/delete-data-time-series-DB-request.md
              - DeleteDataTimeSeriesDBResponse: ./architecture-2/hardware-abstraction/local-storage-engines/local-timeseries-storage-engine/messages/delete-data-time-series-DB-response.md
            - Notifications:
              - DataChangedTimeSeriesDB: ./architecture-2/hardware-abstraction/local-storage-engines/local-timeseries-storage-engine/notifications/data-changed-time-series-DB.md
            - Types:
              - GetDataTimeSeriesDBRequestV1: ./architecture-2/hardware-abstraction/local-storage-engines/local-timeseries-storage-engine/types/get-data-time-series-DB-request-v1.md
              - GetDataTimeSeriesDBResponseV1: ./architecture-2/hardware-abstraction/local-storage-engines/local-timeseries-storage-engine/types/get-data-time-series-DB-response-v1.md
              - RecordDataTimeSeriesDBRequestV1: ./architecture-2/hardware-abstraction/local-storage-engines/local-timeseries-storage-engine/types/record-data-time-series-DB-request-v1.md
              - RecordDataTimeSeriesDBResponseV1: ./architecture-2/hardware-abstraction/local-storage-engines/local-timeseries-storage-engine/types/record-data-time-series-DB-response-v1.md
              - DeleteDataTimeSeriesDBRequestV1: ./architecture-2/hardware-abstraction/local-storage-engines/local-timeseries-storage-engine/types/delete-data-time-series-DB-request-v1.md
              - DeleteDataTimeSeriesDBResponseV1: ./architecture-2/hardware-abstraction/local-storage-engines/local-timeseries-storage-engine/types/delete-data-time-series-DB-response-v1.md
              - TimeSeriesDBDataV1: ./architecture-2/hardware-abstraction/local-storage-engines/local-timeseries-storage-engine/types/TimeSeriesDBData-v1.md
              - TimeSeriesDBQueryV1: ./architecture-2/hardware-abstraction/local-storage-engines/local-timeseries-storage-engine/types/TimeSeriesDBQuery-v1.md
        - Local Wall Clock Engine:
          - ./architecture-2/hardware-abstraction/local-wall-clock-engine/index.md
          - Messages:
            - LocalWallClockGetTime: ./architecture-2/hardware-abstraction/local-wall-clock-engine/messages/local-wall-clock-get-time.md
            - LocalWallClockGetTimeResult: ./architecture-2/hardware-abstraction/local-wall-clock-engine/messages/local-wall-clock-get-time-result.md
          - Types:
            - LocalWallClockGetTimeV1: ./architecture-2/hardware-abstraction/local-wall-clock-engine/types/local-wall-clock-get-time-v1.md
            - LocalWallClockGetTimeResultV1: ./architecture-2/hardware-abstraction/local-wall-clock-engine/types/local-wall-clock-get-time-result-v1.md
            - EpochTimestampV1: ./architecture-2/hardware-abstraction/local-wall-clock-engine/types/EpochTimestamp-v1.md
        - Local Logging Engine:
          - ./architecture-2/hardware-abstraction/local-logging-engine/index.md
          - Messages:
            - LocalLoggingAppend: ./architecture-2/hardware-abstraction/local-logging-engine/messages/local-logging-append.md
          - Notifications: ./architecture-2/hardware-abstraction/local-logging-engine/notifications.md
          - Types:
            - LocalLoggingAppendV1: ./architecture-2/hardware-abstraction/local-logging-engine/types/local-logging-append-v1.md
            - AppendValueV1: ./architecture-2/hardware-abstraction/local-logging-engine/types/AppendValue-v1.md
      - Control Machine:
          - ./architecture-2/engines/configuration/index.md
      - Identity Machine:
        - ./architecture-2/identity/index.md
        - Types:
          - Backend: ./architecture-2/identity/types/backend.md
          - Capabilities: ./architecture-2/identity/types/capabilities.md
          - ExternalIdentity: ./architecture-2/identity/types/external-identity.md
          - IdentityName: ./architecture-2/identity/types/identity-name.md
          - IdentityNameEvidence: ./architecture-2/identity/types/identity-name-evidence.md
          - Params: ./architecture-2/identity/types/params.md
          - GenerateIdentityRequest: ./architecture-2/identity/types/generate-identity-request.md
          - GenerateIdentityResponse: ./architecture-2/identity/types/generate-identity-response.md
          - ConnectIdentityRequest: ./architecture-2/identity/types/connect-identity-request.md
          - ConnectIdentityResponse: ./architecture-2/identity/types/connect-identity-response.md
          - DeleteIdentityRequest: ./architecture-2/identity/types/delete-identity-request.md
          - DeleteIdentityResponse: ./architecture-2/identity/types/delete-identity-response.md
          - DecryptRequest: ./architecture-2/identity/types/decrypt-request.md
          - DecryptResponse: ./architecture-2/identity/types/decrypt-response.md
          - EncryptRequest: ./architecture-2/identity/types/encrypt-request.md
          - EncryptResponse: ./architecture-2/identity/types/encrypt-response.md
          - CommitRequest: ./architecture-2/identity/types/commit-request.md
          - CommitResponse: ./architecture-2/identity/types/commit-response.md
          - VerifyRequest: ./architecture-2/identity/types/verify-request.md
          - VerifyResponse: ./architecture-2/identity/types/verify-response.md
          - ReadsForRequest: ./architecture-2/identity/types/reads-for-request.md
          - ReadsForResponse: ./architecture-2/identity/types/reads-for-response.md
          - SubmitReadsForEvidenceRequest: ./architecture-2/identity/types/submit-reads-for-evidence-request.md
          - SubmitReadsForEvidenceResponse: ./architecture-2/identity/types/submit-reads-for-evidence-response.md
          - QueryReadsForEvidenceRequest: ./architecture-2/identity/types/query-reads-for-evidence-request.md
          - QueryReadsForEvidenceResponse: ./architecture-2/identity/types/query-reads-for-evidence-response.md
          - SignsForRequest: ./architecture-2/identity/types/signs-for-request.md
          - SignsForResponse: ./architecture-2/identity/types/signs-for-response.md
          - SubmitSignsForEvidenceRequest: ./architecture-2/identity/types/submit-signs-for-evidence-request.md
          - SubmitSignsForEvidenceResponse: ./architecture-2/identity/types/submit-signs-for-evidence-response.md
          - QuerySignsForEvidenceRequest: ./architecture-2/identity/types/query-signs-for-evidence-request.md
          - QuerySignsForEvidenceResponse: ./architecture-2/identity/types/query-signs-for-evidence-response.md
          - ResolveNameRequest: ./architecture-2/identity/types/resolve-name-request.md
          - ResolveNameResponse: ./architecture-2/identity/types/resolve-name-response.md
          - SubmitNameEvidenceRequest: ./architecture-2/identity/types/submit-name-evidence-request.md
          - SubmitNameForEvidenceResponse: ./architecture-2/identity/types/submit-name-evidence-response.md
          - QueryNameEvidenceRequest: ./architecture-2/identity/types/query-name-evidence-request.md
          - QueryNameEvidenceResponse: ./architecture-2/identity/types/query-name-evidence-response.md
        - Identity Management Engine:
          - ./architecture-2/modules/identity-management/index.md
          - GenerateIdentityRequestResponse: ./architecture-2/modules/identity-management/generate-identity-request-response.md
          - ConnectIdentityRequestResponse: ./architecture-2/modules/identity-management/connect-identity-request-response.md
        - Decryption Engine:
          - ./architecture-2/identity/decryption/index.md
          - DecryptRequestResponse: ./architecture-2/identity/decryption/decrypt-request-response.md
        - Encryption Engine:
          - ./architecture-2/modules/encryption/index.md
          - EncryptRequestResponse: ./architecture-2/modules/encryption/encrypt-request-response.md
        - Commitment Engine:
          - ./architecture-2/identity/commitment/index.md
          - CommitRequestResponse: ./architecture-2/identity/commitment/commit-request-response.md
        - Verification Engine:
          - ./architecture-2/modules/verification/index.md
          - VerifyRequestResponse: ./architecture-2/modules/verification/verify-request-response.md
        - Reads For Engine:
          - ./architecture-2/modules/reads-for/index.md
          - ReadsForRequestResponse: ./architecture-2/modules/reads-for/reads-for-request-response.md
          - SubmitReadsForEvidenceRequestResponse: ./architecture-2/modules/reads-for/submit-reads-for-evidence-request-response.md
          - QueryReadsForEvidenceRequestResponse: ./architecture-2/modules/reads-for/query-reads-for-evidence-request-response.md
        - Signs For Engine:
          - ./architecture-2/modules/signs-for/index.md
          - SignsForRequestResponse: ./architecture-2/modules/signs-for/signs-for-request-response.md
          - SubmitSignsForEvidenceRequestResponse: ./architecture-2/modules/signs-for/submit-signs-for-evidence-request-response.md
          - QuerySignsForEvidenceRequestResponse: ./architecture-2/modules/signs-for/query-signs-for-evidence-request-response.md
        - Name Engine:
          - ./architecture-2/modules/name/index.md
          - ResolveNameRequestResponse: ./architecture-2/modules/name/resolve-name-request-response.md
          - SubmitNameEvidenceRequestResponse: ./architecture-2/modules/name/submit-name-evidence-request-response.md
          - QueryNameEvidencRequestResponse: ./architecture-2/modules/name/query-name-evidence-request-response.md
      - Networking Machine:
        - ./architecture-2/networking/index.md
        - Intra node & inter node protocols:
          - ./architecture-2/networking/node/index.md
          - Router:
            - ./architecture-2/networking/node/router/index.md
            - Messages:
              - EngineMessage: ./architecture-2/networking/node/router/messages/engine-message.md
              - RelayMessage: ./architecture-2/networking/node/router/messages/relay-message.md
              - P2PMessage: ./architecture-2/networking/node/router/messages/p2p-message.md
              - TopicCreateRequest: ./architecture-2/networking/node/router/messages/topic-create-request.md
              - TopicCreateResponse: ./architecture-2/networking/node/router/messages/topic-create-request.md
              - TopicDeleteRequest: ./architecture-2/networking/node/router/messages/topic-delete-request.md
              - TopicDeleteResponse: ./architecture-2/networking/node/router/messages/topic-delete-request.md
              - TopicSubRequest: ./architecture-2/networking/node/router/messages/topic-sub-request.md
              - TopicSubResponse: ./architecture-2/networking/node/router/messages/topic-sub-request.md
              - TopicUnsubRequest: ./architecture-2/networking/node/router/messages/topic-unsub-request.md
              - TopicUnsubResponse: ./architecture-2/networking/node/router/messages/topic-unsub-request.md
              - StartAdvertRequest: ./architecture-2/networking/node/router/messages/start-advert-request.md
              - StartAdvertResponse: ./architecture-2/networking/node/router/messages/start-advert-request.md
              - StopAdvertRequest: ./architecture-2/networking/node/router/messages/stop-advert-request.md
              - StopAdvertResponse: ./architecture-2/networking/node/router/messages/stop-advert-request.md
            - Types:
              - RoutingTable: ./architecture-2/networking/node/router/types/routing-table.md
              - RoutingTableEntry: ./architecture-2/networking/node/router/types/routing-table-entry.md
              - RoutingTableDest: ./architecture-2/networking/node/router/types/routing-table-dest.md
              - RoutingTableTopic: ./architecture-2/networking/node/router/types/routing-table-topic.md
              - RoutingTableDomain: ./architecture-2/networking/node/router/types/routing-table-domain.md
              - RoutingPrefs: ./architecture-2/networking/node/router/types/routing-prefs.md
              - RoutingScope: ./architecture-2/networking/node/router/types/routing-scope.md
              - DestinationIdentity: ./architecture-2/networking/node/router/types/destination-identity.md
              - EngineIdentity: ./architecture-2/networking/node/router/types/engine-identity.md
              - NodeIdentity: ./architecture-2/networking/node/router/types/node-identity.md
              - TopicIdentity: ./architecture-2/networking/node/router/types/topic-identity.md
              - DomainIdentity: ./architecture-2/networking/node/router/types/domain-identity.md
              - NodeAdvert: ./architecture-2/networking/node/router/types/node-advert-v1.md
              - NodeAdvertV1: ./architecture-2/networking/node/router/types/node-advert-v1.md
              - EngineAdvert: ./architecture-2/networking/node/router/types/engine-advert-v1.md
              - EngineAdvertV1: ./architecture-2/networking/node/router/types/engine-advert-v1.md
              - EngineMessageV1: ./architecture-2/networking/node/router/types/engine-message-v1.md
              - P2PMessageV1: ./architecture-2/networking/node/router/types/p2p-message-v1.md
              - RelayMessageV1: ./architecture-2/networking/node/router/types/relay-message-v1.md
              - TopicCreateRequestV1: ./architecture-2/networking/node/router/types/topic-create-request-v1.md
              - TopicCreateResponseV1: ./architecture-2/networking/node/router/types/topic-create-response-v1.md
              - TopicDeleteRequestV1: ./architecture-2/networking/node/router/types/topic-delete-request-v1.md
              - TopicDeleteResponseV1: ./architecture-2/networking/node/router/types/topic-delete-response-v1.md
              - TopicSubRequestV1: ./architecture-2/networking/node/router/types/topic-sub-request-v1.md
              - TopicSubResponseV1: ./architecture-2/networking/node/router/types/topic-sub-response-v1.md
              - TopicUnsubRequestV1: ./architecture-2/networking/node/router/types/topic-unsub-request-v1.md
              - TopicUnsubResponseV1: ./architecture-2/networking/node/router/types/topic-unsub-response-v1.md
              - SubRequestV1: ./architecture-2/networking/node/router/types/topic-sub-request-v1.md
          - Transport:
            - ./architecture-2/networking/node/transport/index.md
            - Messages:
              - P2PMessage to Transport: ./architecture-2/networking/node/transport/messages/p2p-message.md
              - TransportMessage: ./architecture-2/networking/node/transport/messages/transport-message.md
              - ConnectRequest: ./architecture-2/networking/node/transport/messages/connect-request.md
              - ConnectResponse: ./architecture-2/networking/node/transport/messages/connect-request.md
              - DisconnectRequest: ./architecture-2/networking/node/transport/messages/disconnect-request.md
              - DisconnectResponse: ./architecture-2/networking/node/transport/messages/disconnect-request.md
              - ConnectedNodesRequest: ./architecture-2/networking/node/transport/messages/connected-nodes-request.md
            - Notifications:
              - NodeConnected: ./architecture-2/networking/node/transport/notifications/node-connected.md
              - NodeConnectFailed: ./architecture-2/networking/node/transport/notifications/node-connect-failed.md
              - NodeDisconnected: ./architecture-2/networking/node/transport/notifications/node-disconnected.md
            - Types:
              - TransportAddress: ./architecture-2/networking/node/transport/types/transport-address.md
              - ConnectionPrefs: ./architecture-2/networking/node/transport/types/connection-prefs.md
              - TransportPrefs: ./architecture-2/networking/node/transport/types/transport-prefs.md
              - OrderingPrefs: ./architecture-2/networking/node/transport/types/ordering-prefs.md
              - ReliabilityPrefs: ./architecture-2/networking/node/transport/types/reliability-prefs.md
              - SecurityPrefs: ./architecture-2/networking/node/transport/types/security-prefs.md
              - NodeTransportAddress: ./architecture-2/networking/node/transport/types/node-transport-address.md
              - TransportMessageV1: ./architecture-2/networking/node/transport/types/transport-message-v1.md
              - ConnectRequestV1: ./architecture-2/networking/node/transport/types/connect-request-v1.md
              - ConnectResponseV1: ./architecture-2/networking/node/transport/types/connect-response-v1.md
              - DisconnectRequestV1: ./architecture-2/networking/node/transport/types/disconnect-request-v1.md
              - DisconnectResponseV1: ./architecture-2/networking/node/transport/types/disconnect-response-v1.md
              - ConnectedNodesResponseV1: ./architecture-2/networking/node/transport/types/connected-nodes-response-v1.md
          - Network Identity Store:
            - ./architecture-2/networking/node/id-store/index.md
            - Messages:
              - LookupIdentityRequest: ./architecture-2/networking/node/id-store/messages/lookup-identity-request.md
              - LookupIdentityResponse: ./architecture-2/networking/node/id-store/messages/lookup-identity-request.md
              - UpdateIdentityRequest: ./architecture-2/networking/node/id-store/messages/update-identity-request.md
              - UpdateIdentityResponse: ./architecture-2/networking/node/id-store/messages/update-identity-request.md
            - Notifications:
              - ./architecture-2/networking/node/id-store/notifications/index.md
              - IdentityUpdated: ./architecture-2/networking/node/id-store/notifications/identity-updated.md
            - Types:
              - IdentityStore: ./architecture-2/networking/node/id-store/types/identity-store.md
              - IdentityRecord: ./architecture-2/networking/node/id-store/types/identity-record.md
              - EngineIdentityRecord: ./architecture-2/networking/node/id-store/types/engine-identity-record.md
              - NodeIdentityRecord: ./architecture-2/networking/node/id-store/types/node-identity-record.md
              - DomainIdentityRecord: ./architecture-2/networking/node/id-store/types/domain-identity-record.md
              - TopicIdentityRecord: ./architecture-2/networking/node/id-store/types/topic-identity-record.md
              - TrustValue: ./architecture-2/networking/node/id-store/types/trust-value.md
              - ReputationValue: ./architecture-2/networking/node/id-store/types/reputation-value.md
              - LookupIdentityRequestV1: ./architecture-2/networking/node/id-store/types/lookup-identity-request-v1.md
              - LookupIdentityResponseV1: ./architecture-2/networking/node/id-store/types/lookup-identity-response-v1.md
              - UpdateIdentityRequestV1: ./architecture-2/networking/node/id-store/types/update-identity-request-v1.md
              - UpdateIdentityResponseV1: ./architecture-2/networking/node/id-store/types/update-identity-response-v1.md
              - IdentityUpdatedV1: ./architecture-2/networking/node/id-store/types/identity-updated-v1.md
        - Intra domain protocols:
          - ./architecture-2/networking/intra-domain/index.md
          - PubSub:
            - ./architecture-2/networking/intra-domain/pubsub/index.md
            - Messages:
              - TopicAdvert: ./architecture-2/networking/intra-domain/pubsub/messages/topic-advert.md
              - Event: ./architecture-2/networking/intra-domain/pubsub/messages/event.md
              - EngineMessage to PubSub: ./architecture-2/networking/intra-domain/pubsub/messages/engine-message.md
              - SubscribeRequest: ./architecture-2/networking/intra-domain/pubsub/messages/subscribe-request.md
              - UnsubscribeRequest: ./architecture-2/networking/intra-domain/pubsub/messages/unsubscribe-request.md
              - Subscribe: ./architecture-2/networking/intra-domain/pubsub/messages/subscribe.md
              - SubscribeAck: ./architecture-2/networking/intra-domain/pubsub/messages/subscribe-ack.md
              - Unsubscribe: ./architecture-2/networking/intra-domain/pubsub/messages/unsubscribe.md
              - UnsubscribeAck: ./architecture-2/networking/intra-domain/pubsub/messages/unsubscribe-ack.md
            - Notifications:
              - ./architecture-2/networking/intra-domain/pubsub/notifications/index.md
              - TopicSubscribed: ./architecture-2/networking/intra-domain/pubsub/notifications/topic-subscribed.md
              - TopicUnsubscribed: ./architecture-2/networking/intra-domain/pubsub/notifications/topic-unsubscribed.md
              - TopicAdvertReceived: ./architecture-2/networking/intra-domain/pubsub/notifications/topic-advert-received.md
            - Types:
              - PubSubRoutingTable: ./architecture-2/networking/intra-domain/pubsub/types/pubsub-routing-table.md
              - PubSubRoutingTableEntry: ./architecture-2/networking/intra-domain/pubsub/types/pubsub-routing-table-entry.md
              - TopicAdvertV1: ./architecture-2/networking/intra-domain/pubsub/types/topic-advert-v1.md
              - EventV1: ./architecture-2/networking/intra-domain/pubsub/types/event-v1.md
              - TopicRequestV1: ./architecture-2/networking/intra-domain/pubsub/types/topic-request-v1.md
              - TopicResponseV1: ./architecture-2/networking/intra-domain/pubsub/types/topic-request-v1.md
          - Storage:
            - ./architecture-2/networking/intra-domain/storage/index.md
            - Messages:
              - BlockLookupRequest: ./architecture-2/networking/intra-domain/storage/messages/block-lookup-request.md
              - BlockResult: ./architecture-2/networking/intra-domain/storage/messages/block-result.md
              - BlockGetRequest: ./architecture-2/networking/intra-domain/storage/messages/block-get-request.md
              - BlockPutRequest: ./architecture-2/networking/intra-domain/storage/messages/block-put-request.md
              - BlockPutResponse: ./architecture-2/networking/intra-domain/storage/messages/block-put-response.md
              - BlockSearchTopic: ./architecture-2/networking/intra-domain/storage/messages/block-search-topic.md
              - BlockSearchRandom: ./architecture-2/networking/intra-domain/storage/messages/block-search-random.md
            - Types:
              - StoragePrefs: ./architecture-2/networking/intra-domain/storage/types/storage-prefs.md
      - Ordering Machine:
        - ./architecture-2/ordering-v1/index.md
        - Common types:
          - ./architecture-2/ordering/types/allofthem/index.md
          - KVSDatum: ./architecture-2/ordering/types/KVS-datum.md
          - KVSKey: ./architecture-2/ordering/types/KVS-key.md
          - ExecutionSummary: ./architecture-2/ordering/types/execution-summary.md
          - TxData: ./architecture-2/ordering/types/tx-data.md
          - TransactionCandidate: ./architecture-2/ordering/types/transaction-candidate.md
          - TransactionExecutable: ./architecture-2/ordering/types/transaction-executable.md
          - TxFingerprint: ./architecture-2/ordering/types/tx-fingerprint.md
          - TransactionAck: ./architecture-2/ordering/types/transaction-ack.md
          - TransactionLabel: ./architecture-2/ordering/types/transaction-label.md
          - ReadLabel: ./architecture-2/ordering/types/read-label.md
          - WriteLabel: ./architecture-2/ordering/types/write-label.md
          - WorkerHash: ./architecture-2/ordering/types/worker-hash.md
        - Mempool engines:
          - ./architecture-2/ordering/mempool/index.md
          - Execution Supervisor:
            - ./architecture-2/ordering/mempool/execution-supervisor/index.md
            - SpawnExecutor: ./architecture-2/ordering/mempool/execution-supervisor/spawn-executor.md
          - Worker Engine:
            - ./architecture-2/ordering/mempool/worker/index.md
            - ExecutorFinished: ./architecture-2/ordering/mempool/worker/executor-finished.md
            - ExecutorPIDAssigned: ./architecture-2/ordering/mempool/worker/executor-PID-assigned.md
            - KVSLockAcquired: ./architecture-2/ordering/mempool/worker/KVS-lock-acquired.md
            - TransactionRequest: ./architecture-2/ordering/mempool/worker/transaction-request.md
            - RequestLogs: ./architecture-2/ordering/mempool/worker/request-logs.md
        - Consensus Engine:
          - ./architecture-2/ordering/consensus-homogeneous.md
          - Formal Definitions: ./architecture-2/ordering/consensus/homogeneous-paxos-formal.md
        - Execution engines:
          - ./architecture-2/ordering/execution/index.md
          - Shard:
            - ./architecture-2/ordering/execution/shard/index.md
            - KVSAcquireLock: ./architecture-2/ordering/execution/shard/KVS-acquire-lock.md
            - KVSReadRequest: ./architecture-2/ordering/execution/shard/KVS-read-request.md
            - KVSWrite: ./architecture-2/ordering/execution/shard/KVS-write.md
            - UpdateSeenAll: ./architecture-2/ordering/execution/shard/update-seen-all.md
          - Executor:
            - ./architecture-2/ordering/execution/executor/index.md
            - ExecuteTransaction: ./architecture-2/ordering/execution/executor/execute-transaction.md
            - KVSRead: ./architecture-2/ordering/execution/executor/KVS-read.md

  - Application Architecture:
    - ./application-architecture/index.md
    - Definitions:
      - ./application-architecture/definitions.md
    - Patterns:
      - ./application-architecture/patterns/index.md
      - Counter:
        - ./application-architecture/patterns/counter.md
      - Dynamic code loading:
        - ./application-architecture/patterns/dynamic-code-loading.md
    - Primitives:
        - ./application-architecture/primitives/index.md
        - Tokens: ./application-architecture/primitives/tokens.md
        - Attestation: ./application-architecture/primitives/attestation.md
        - Authorization: ./application-architecture/primitives/authorization.md
    - System applications:
      - ./application-architecture/system-applications.md
      - Proof-of-stake: ./application-architecture/system-applications/proof-of-stake.md
    - Scale-free kudos: ./application-architecture/kudos.md
    - Schelling tests: ./application-architecture/schelling-tests.md

  - Concrete Implementation:
    - Data encoding: ./concrete-implementation/data-encoding.md
    - Resource machine backends:  ./concrete-implementation/resource-machine-backends.md

  - Indexes:
    - ./indexes/index.md
    - Quick links: ./indexes/links.md
    - Juvix Modules: ./indexes/juvix_modules.md
  - For Spec-writers:
    - ./tutorial/index.md
    - Prepare working environment: 
      - ./tutorial/install/index.md
    - Git Workflow: ./tutorial/branch.md
    - Write using Markdown plus Anoma extensions:
      - ./tutorial/md/index.md
      - Wiki-style links: ./tutorial/md/links.md
      - Images: ./tutorial/md/images.md
      - Todos: ./tutorial/md/todos.md
      - Snippets: ./tutorial/md/snippets.md
      - Citations: ./tutorial/md/citations.md
      - Juvix code: ./tutorial/juvix.md
      - Diffs:
        - ./tutorial/differ/index.md
        - Example of diff rendering: ./tutorial/file-v1.md
    - Engines in Anoma:
      - ./tutorial/engines/index.juvix.md
      - The Ticker engine family: ./tutorial/engines/Ticker.juvix.md

extra:
  social:
    - icon: fontawesome/brands/x-twitter
      link: https://x.com/anoma
    - icon: fontawesome/brands/github
      link: https://github.com/anoma
    - icon: fontawesome/solid/blog
      link: https://anoma.net/blog
    - icon: fontawesome/brands/discourse
      link: https://research.anoma.net
    - icon: fontawesome/brands/youtube
      link: https://youtube.com/anoma
    - icon: material/email
      link: mailto:arts@heliax.dev
  generator: false
  version: 1.0

theme:
  name: material
  logo: assets/logo.svg
  favicon: assets/logo.svg
  custom_dir: overrides
  language: en
  google_analytics: G-WJWZWB2TW5
  palette:
    # Palette toggle for automatic mode
    - media: "(prefers-color-scheme)"
      primary: white
      toggle:
        icon: material/brightness-auto
        name: Switch to light mode

    # Palette toggle for light mode
    - media: "(prefers-color-scheme: light)"
      scheme: default
      primary: white
      accent: red
      toggle:
        icon: material/brightness-7
        name: Switch to dark mode

    # Palette toggle for dark mode
    - media: "(prefers-color-scheme: dark)"
      scheme: slate
      primary: black
      accent: red
      toggle:
        icon: material/brightness-4
        name: Switch to system preference

  font:
    text: Open Sans
    code: Fira Code
  features:
    - announce.dismiss
    - content.code.annotate
    - content.code.copy
    - content.tooltips
    # - navigation.tracking
    - navigation.footer
    - navigation.path
    - navigation.expand
    - navigation.prune
    - navigation.tabs
    # - navigation.instant
    # - navigation.instant.preview
    - navigation.indexes
    - search.highlight
    - search.suggest
    - search.sharing
    - toc.follow
    # - header.autohide

plugins:
  - search
  - glightbox
  - juvix
  - bibtex:
      bib_dir: "docs/references"
  - macros:
      verbose: false
      module_name: macros
      j2_block_start_string: "{@@"
      j2_block_end_string: "@@}"
      j2_variable_start_string: "{@"
      j2_variable_end_string: "@}"

hooks:
- hooks/links.py
- hooks/images.py
- hooks/todos.py
- hooks/differ.py

watch:
  - docs/assets
  - formal/SML
  - overrides

exclude_docs: |
  /requirements.txt
  **/art-template/**/*.md
  */**/.juvix-build/
  docs/indexes/*.txt
  docs/indexes/*.dot
  docs/images/*.dot.svg

extra_css:
  - ./assets/css/style.css
  - assets/css/juvix-highlighting.css

extra_javascript:
  - assets/js/extra.js
  - assets/js/highlight.js
  - assets/js/mathjax.js
  - https://polyfill.io/v3/polyfill.min.js?features=es6
  - https://cdn.jsdelivr.net/npm/mathjax@3.0.0/es5/tex-svg.js

copyright: |
  &copy; 2024 <a href="https://anoma.net">Anoma Foundation</a>

# See https://squidfunk.github.io/mkdocs-material/reference/math/?h=katex#comparing-mathjax-and-katex on why we use MathJax

markdown_extensions:
  - pymdownx.snippets:
      check_paths: true
      url_download: true
      auto_append:
        - docs/terms.md
  - pymdownx.superfences:
      custom_fences:
        - name: mermaid
          class: mermaid
          format: !!python/name:pymdownx.superfences.fence_code_format
  - abbr
  - admonition
  - attr_list
  - def_list
  - footnotes
  - md_in_html
  - toc:
      permalink: true
  - pymdownx.details
  - pymdownx.magiclink
  - pymdownx.emoji:
      emoji_index: !!python/name:material.extensions.emoji.twemoji
      emoji_generator: !!python/name:material.extensions.emoji.to_svg
  - pymdownx.arithmatex:
      generic: true
  - pymdownx.highlight:
      use_pygments: true
      pygments_lang_class: true
      line_spans: __ispan
  - pymdownx.tabbed:
      slugify: !!python/object/apply:pymdownx.slugs.slugify
        kwds:
          case: lower
      alternate_style: true
  - pymdownx.tasklist:
      custom_checkbox: true
      clickable_checkbox: true

validation:
  nav:
    omitted_files: ignore
    not_found: warn
    absolute_links: ignore
  links:
    not_found: warn
    absolute_links: ignore
    unrecognized_links: warn
